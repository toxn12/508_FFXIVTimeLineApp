# リリースノート

## 2026-01-21

### 新機能

#### スキルのドラッグ時に垂直線を表示
- スキルをドラッグする際、開始位置（黄色の垂直線）と終了位置（青色の垂直線）が表示されるようになりました
- これにより、スキルの配置をより正確に行えるようになります

#### パーティスキルの効果情報の表示
- すべてのスキルに物理軽減率、魔法軽減率、バフ効果の情報を追加しました
- スキルバーにマウスオーバーすると、ツールチップで効果情報が確認できます
  - 例: 「ランパート (90秒) 物理軽減20%, 魔法軽減20%」

### 改善

#### 課題管理表の整理
- 完了済みの課題を「完了済み課題」セクションに移動しました
- 重複していた古い課題を削除しました
- 未着手の課題を優先度別に整理しました

### セキュリティ対応

#### OWASP準拠
- 入力値検証: スキルの効果情報はJSONで定義され、型安全に管理されています
- データ整合性: 効果情報はオプショナルフィールドとして定義し、存在しない場合でも安全に動作します

### 変更されたファイル

#### 新規作成
- `src/components/ui/SkillDragLines.vue` - スキルドラッグ時の垂直線表示コンポーネント

#### 更新
- `src/types/skill.ts` - Skill型に効果情報フィールド（physicalMitigation, magicalMitigation, buffPower）を追加
- `src/stores/uiStore.ts` - スキルドラッグ中の位置情報を管理する状態と関数を追加
- `src/components/Timeline.vue` - SkillDragLinesコンポーネントを統合
- `src/components/timeline-items/SkillBar.vue` - スキルドラッグ時の垂直線位置設定と効果情報表示を追加
- `public/data/skills/jobs.json` - 全スキルに効果情報を設定
- `課題管理表.md` - 完了済み課題の整理と更新

### 今後の予定

#### 優先度：高
- パーティスキルの効果集計機能
  - タイムライン上でパーティ全体の軽減効果を集計
  - 物理・魔法それぞれの軽減率を可視化

#### 優先度：中
- スキルのキャストタイム、リキャストタイムの表示
- パーティメンバー間でのスキル干渉のアラート
